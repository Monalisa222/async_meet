<div class="flex justify-end">

  <%= form_with url: switch_organizations_path,
                method: :post,
                data: { turbo_frame: "organization_switcher" } do %>

    <select name="organization_id"
            onchange="this.form.requestSubmit()"
            class="min-w-[220px] px-3 py-2 rounded-lg
                   border border-gray-300
                   bg-white text-gray-700 text-sm font-medium
                   shadow-sm
                   focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500
                   transition duration-200">

      <!-- Placeholder option -->
      <option disabled <%= "selected" unless current_organization %>>
        Please switch organization
      </option>

      <% current_user.organizations.each do |org| %>
        <option value="<%= org.id %>"
          <%= "selected" if current_organization&.id == org.id %>>
          <%= org.name %>
        </option>
      <% end %>

    </select>

  <% end %>

</div>
