<% if tasks.any? %>
  <ul class="space-y-4">
    <% tasks.each do |task| %>
      <li class="bg-gray-50 p-4 rounded-lg shadow-sm flex items-start justify-between">

        <!-- Left Section -->
        <div>
          <h3 class="text-lg font-medium text-gray-900">
            <%= task.title %>
          </h3>

          <% if task.description.present? %>
            <p class="text-gray-700 mt-1">
              <%= task.description %>
            </p>
          <% end %>

          <!-- Assigned User -->
          <p class="text-sm text-gray-500 mt-2">
            Assigned to:
            <span class="font-medium text-gray-700">
              <%= task.assigned_user&.email || "Unassigned" %>
            </span>
          </p>
        </div>

        <!-- Right Section -->
        <div class="flex items-center space-x-4">

          <!-- Status Badge -->
          <span class="inline-block px-3 py-1 text-sm font-medium rounded-full
                     <%= case task.status
                         when 'pending' then 'bg-yellow-100 text-yellow-800'
                         when 'in_progress' then 'bg-blue-100 text-blue-800'
                         when 'done' then 'bg-green-100 text-green-800'
                         end %>">
            <%= task.status.humanize %>
          </span>

          <!-- Priority Badge -->
          <span class="inline-block px-3 py-1 text-sm font-medium rounded-full
                     <%= case task.priority
                         when 'low' then 'bg-green-100 text-green-800'
                         when 'medium' then 'bg-yellow-100 text-yellow-800'
                         when 'high' then 'bg-red-100 text-red-800'
                         end %>">
            <%= task.priority.humanize %>
          </span>

        </div>
      </li>
    <% end %>
  </ul>
<% else %>
  <p class="text-gray-700">No tasks yet. Add one above!</p>
<% end %>
